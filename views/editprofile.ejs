<%- include('partials/header') -%>

<section class="card lg:card-side w-96 bg-base-100 shadow-xl mx-auto my-16">
    <div class="card-body mx-auto">
        <div class="card-title mx-auto">
            <h2 class="font-bold">Edit Profile Info</h2>
        </div>

        <div>
            <% if(user.cloudinaryId) { %> 
              <img src=<%= user.image %> class="w-1/2 mx-auto rounded-full border-double border-8 border-accent">
            <% } else { %>
              <img src="/imgs/place-avatar-transp.svg" class="w-1/2 mx-auto rounded-full border-double border-8 border-accent">
            <% } %>
        </div>

        <section class="font-medium">
            <form action="/profile/<%= user._id%>?_method=PUT" enctype="multipart/form-data" method="POST">

                <!-- Displays registered email -->
                <div class="mb-3">
                    <label for="email" class="label">
                        <span class="label-text text-lg">Email: <%= user.email %></span>
                    </label>
                </div>

                <!-- Username -->
                <div class="mb-3">
                    <label for="userName" class="label">
                        <span class="label-text text-lg">Name</span>
                    </label>
                    <input type="text" 
                        class="input input-bordered w-full max-w-xs bg-slate-50" 
                        id="userName"
                        name="userName"
                        value="<%= user.userName%>">
                </div>

                <!-- Professional ID number -->
                <div class="mb-3">
                    <label for="profId" class="label">
                        <span class="label-text text-lg">Professional ID#</span>
                    </label>
                    <input type="text"
                        class="input input-bordered w-full max-w-xs bg-slate-50"
                        id="profId"
                        name="profId"
                        value="<%= user.profId%>">
                </div>

                <!-- Target hours -->
                <div class="mb-3">
                    <label for="targetHrs" class="label">
                        <span class="label-text text-lg">Target Hours</span>
                    </label>
                    <input type="number" min="0" step="0.1"
                        class="input input-bordered w-full max-w-xs bg-slate-50"
                        id="targetHrs"
                        name="targetHrs"
                        value="<%= user.targetHrs%>">                        
                </div>

                <!-- Profile pic upload -->
                <div class="mb-3">
                    <label for="pfpUpload" class="label">
                        <span class="label-text text-lg">Profile Pic</span><span class="label-text-alt text-sm font-normal">(optional)</span>
                    </label>
                    <input type="file" 
                        class="file-input file-input-bordered file-input-info file-input-sm md:file-input-md w-full max-w-xs bg-slate-50" 
                        id="pfpUpload" 
                        name="file">
                </div>

                <!-- Submit/Cancel buttons -->
                <div class="flex flex-row mt-6 justify-between">
                    <input type="submit" value="Save" class="btn btn-primary basis-1/3">
                    <a href="/dashboard" class="btn btn-error basis-1/3">Cancel</a>
                </div>
            </form>
        </section>
    </div>
</section>

<%- include('partials/footer') -%>